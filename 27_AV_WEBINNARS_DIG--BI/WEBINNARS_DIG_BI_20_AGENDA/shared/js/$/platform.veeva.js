/*platform*/ var platform={}; platform.name="veeva";
platform.git="https://gitlab.com/byraan-gyf/platforms/tree/master";var com;null==com&&(com={}),void 0==com.veeva&&(com.veeva={}),com.veeva.clm={getAddresses_Account:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("account",e),0!=ret.success?(window.com_veeva_clm_accountAddresses=function(e){com.veeva.clm.wrapResult("getAddresses_Account",t,e)},query='veeva:queryObject(Address_vod__c),fields(ID),where(WHERE Account_vod__c="'+e+'"),com_veeva_clm_accountAddresses(result)',com.veeva.clm.testMode?com_veeva_clm_accountAddresses(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getAddresses_Account",t,ret)},getAddressFields:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("record",e),0!=ret.success?(void 0!=t&&null!=t||(t=["ID"]),window.com_veeva_clm_addressValues=function(e){com.veeva.clm.wrapResult("getAddressFields",c,e)},query="veeva:queryObject(Address_vod__c),fields("+this.joinFieldArray(t)+'),where(WHERE IdNumber="'+e+'"),com_veeva_clm_addressValues(result)',com.veeva.clm.testMode?com_veeva_clm_addressValues(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getAddressFields",c,ret)},getProduct_MySetup:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("type",e),0!=ret.success?(window.com_veeva_clm_productMysetup=function(e){com.veeva.clm.wrapResult("getProduct_MySetup",t,e)},query='veeva:queryObject(Product_vod__c),fields(ID),where(WHERE Product_Type_vod__c="'+e+'"),com_veeva_clm_productMysetup(result)',com.veeva.clm.testMode?com_veeva_clm_productMysetup(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getProduct_MySetup",t,ret)},getRecordType_Object:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(window.com_veeva_clm_objectRecordTypes=function(e){com.veeva.clm.wrapResult("getRecordType_Object",t,e)},query='veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType="'+e+'" and IsActive == YES),com_veeva_clm_objectRecordTypes(result)',com.veeva.clm.testMode?com_veeva_clm_objectRecordTypes(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getRecordType_Object",t,ret)},getSurveyQuestions_Survey:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("survey",e),0!=ret.success?(window.com_veeva_clm_surveyQuestions=function(e){com.veeva.clm.wrapResult("getSurveyQuestions_Survey",t,e)},query='veeva:queryObject(Survey_Question_vod__c),fields(ID),where(WHERE Survey_vod__c="'+e+'"),sort(Order_vod__c,asc),com_veeva_clm_surveyQuestions(result)',com.veeva.clm.testMode?com_veeva_clm_surveyQuestions(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getSurveyQuestions_Survey",t,ret)},getQuestionResponse_SurveyTarget:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("surveytarget",e),0!=ret.success?(window.com_veeva_clm_targetResponses=function(e){com.veeva.clm.wrapResult("getQuestionResponse_SurveyTarget",t,e)},query='veeva:queryObject(Question_Response_vod__c),fields(ID),where(WHERE Survey_Target_vod__c="'+e+'"),sort(Order_vod__c,asc),com_veeva_clm_targetResponses(result)',com.veeva.clm.testMode?com_veeva_clm_targetResponses(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getQuestionResponse_SurveyTarget",t,ret)},getSurveyTarget_Account:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("account",e),0!=ret.success?(window.com_veeva_clm_accountSurveyTargets=function(e){com.veeva.clm.wrapResult("getSurveyTarget_Account",c,e)},query=null,query=null==t||""==t?'veeva:queryObject(Survey_Target_vod__c),fields(ID),where(WHERE Account_vod__c="'+e+'"),com_veeva_clm_accountSurveyTargets(result)':'veeva:queryObject(Survey_Target_vod__c),fields(ID),where(WHERE Account_vod__c="'+e+'" AND Survey_vod__c="'+t+'"),com_veeva_clm_accountSurveyTargets(result)',com.veeva.clm.testMode?com_veeva_clm_accountSurveyTargets(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getSurveyTarget_Account",c,ret)},getProduct_OrderActive_Account:function(e,t){var c,r=this.checkCallbackFunction(t);if(0==r.success)return r;window.com_veeva_clm_ordersWithListPrice=function(e){if((e=com.veeva.clm.formatResult(e)).success){if(orderIds=[],e.Pricing_Rule_vod__c&&e.Pricing_Rule_vod__c.length>0)for(i=0;i<e.Pricing_Rule_vod__c.length;i++)orderIds.push(e.Pricing_Rule_vod__c[i].Product_vod__c);r.success=!0,r.Product_vod__c=orderIds,com.veeva.clm.wrapResult("getProduct_OrderActive_Account",t,r)}else com.veeva.clm.wrapResult("getProduct_OrderActive_Account",t,e)},window.com_veeva_clm_listPriceTypeId=function(r){if((r=com.veeva.clm.formatResult(r)).success&&r.RecordType&&r.RecordType.length>0){listPriceRecordTypeId=r.RecordType[0].ID;var o=[];for(i=0;i<c.length;i++)o.push(c[i].ID);dateString=com.veeva.clm.getCurrentDate(),query=null,query=null==e||""==e?'veeva:queryObject(Pricing_Rule_vod__c),fields(ID,Product_vod__c),where(WHERE RecordTypeId="'+listPriceRecordTypeId+'" AND Start_Date_vod__c <= "'+dateString+'" AND End_Date_vod__c >= "'+dateString+'" AND Product_vod__c IN '+com.veeva.clm.joinStringArrayForIn(o)+"), com_veeva_clm_ordersWithListPrice(result)":'veeva:queryObject(Pricing_Rule_vod__c),fields(ID,Product_vod__c),where(WHERE RecordTypeId="'+listPriceRecordTypeId+'" AND (Account_vod__c="'+e+'" OR Account_Group_vod__c = "'+e+'") AND Start_Date_vod__c <="'+dateString+'" AND End_Date_vod__c >= "'+dateString+'" AND Product_vod__c IN '+com.veeva.clm.joinStringArrayForIn(o)+"), com_veeva_clm_ordersWithListPrice(result)",com.veeva.clm.testMode?com_veeva_clm_ordersWithListPrice(testResult.listPrices):com.veeva.clm.runAPIRequest(query)}else com.veeva.clm.wrapResult("getProduct_OrderActive_Account",t,r)},this.getProduct_MySetup("Order",function(e){if(e.success){if(!((c=e.Product_vod__c)&&c.length>0))return r.success=!0,r.Product_vod__c=[],void com.veeva.clm.wrapResult("getProduct_OrderActive_Account",t,r);recordTypeQuery='veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType="Pricing_Rule_vod__c" AND Name_vod__c="List_Price_Rule_vod"),com_veeva_clm_listPriceTypeId(result)',com.veeva.clm.testMode?com_veeva_clm_listPriceTypeId(testResult.listPriceRecordType):com.veeva.clm.runAPIRequest(recordTypeQuery)}else com.veeva.clm.wrapResult("getProduct_OrderActive_Account",t,e)})},getProduct_KitComponents:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("product",e),0!=ret.success?(window.com_veeva_clm_childKitItems=function(e){com.veeva.clm.wrapResult("getProduct_KitComponents",t,e)},query='veeva:queryObject(Product_vod__c),fields(ID),where(WHERE Product_Type_vod__c="Kit Item" AND Parent_Product_vod__c="'+e+'"),com_veeva_clm_childKitItems(result)',com.veeva.clm.testMode?com_veeva_clm_childKitItems(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getProduct_KitComponents",t,ret)},getProductGroup_Product:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("product",e),0!=ret.success?(window.com_veeva_clm_productProductGroups=function(e){var c={};if(null!=(e=com.veeva.clm.formatResult(e))&&e.success){var r=e.Product_Group_vod__c,o=[];if(r&&r.length>0)for(i=0;i<r.length;i++)o.push(r[i].Product_Catalog_vod__c);c.success=!0,c.Product_vod__c=o,com.veeva.clm.wrapResult("getProductGroup_Product",t,c)}else null!=e&&com.veeva.clm.wrapResult("getProductGroup_Product",t,e)},query='veeva:queryObject(Product_Group_vod__c),fields(ID,Product_Catalog_vod__c),where(WHERE Product_vod__c="'+e+'"),com_veeva_clm_productProductGroups(result)',com.veeva.clm.testMode?com_veeva_clm_productProductGroups(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getProductGroup_Product",t,ret)},getLastTenOrders_Account:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("account",e),0!=ret.success?(window.com_veeva_clm_accountLastTenOrders=function(e){com.veeva.clm.wrapResult("getLastTenOrders_Account",t,e)},query='veeva:queryObject(Order_vod__c),fields(ID),where(WHERE Account_vod__c="'+e+'"),sort(Order_Date_vod__c,desc),limit(10),com_veeva_clm_accountLastTenOrders(result)',com.veeva.clm.testMode?com_veeva_clm_accountLastTenOrders(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getLastTenOrders_Account",t,ret)},getOrderLines_Order:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("order",e),0!=ret.success?(window.com_veeva_clm_orderLines=function(e){com.veeva.clm.wrapResult("getOrderLines_Order",t,e)},query='veeva:queryObject(Order_Line_vod__c),fields(ID),where(WHERE Order_vod__c="'+e+'"),com_veeva_clm_orderLines(result)',com.veeva.clm.testMode?com_veeva_clm_orderLines(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getOrderLines_Order",t,ret)},getListPrice_Product:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("product",e),0!=ret.success?(window.com_veeva_clm_productPricingRules=function(e){com.veeva.clm.wrapResult("getListPrice_Product",t,e)},window.com_veeva_clm_listPriceTypeId_getListPrice_Product=function(c){(c=com.veeva.clm.formatResult(c)).success&&c.RecordType&&c.RecordType.length>0?(listPriceRecordTypeId=c.RecordType[0].ID,dateString=com.veeva.clm.getCurrentDate(),query='veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId="'+listPriceRecordTypeId+'" AND Product_vod__c = "'+e+'" AND Start_Date_vod__c <= "'+dateString+'" AND End_Date_vod__c >= "'+dateString+'"), com_veeva_clm_productPricingRules(result)',com.veeva.clm.testMode?com_veeva_clm_productPricingRules(com.veeva.clm.testResult.listPrices):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getListPrice_Product",t,c)},recordTypeQuery='veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType="Pricing_Rule_vod__c" AND Name_vod__c="List_Price_Rule_vod"),com_veeva_clm_listPriceTypeId_getListPrice_Product(result)',com.veeva.clm.testMode?com_veeva_clm_listPriceTypeId_getListPrice_Product(testResult.listPriceRecordType):com.veeva.clm.runAPIRequest(recordTypeQuery)):com.veeva.clm.wrapResult("getListPrice_Product",t,ret)},getListPrice_Product_Account:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("product",e),0!=ret.success?(ret=this.checkArgument("account",t),0!=ret.success?(window.com_veeva_clm_productDefaultPricingRules=function(e){com.veeva.clm.wrapResult("getListPrice_Product_Account",c,e)},window.com_veeva_clm_get_productDefaultPricingRules=function(){dateString=com.veeva.clm.getCurrentDate(),groupQuery='veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId="'+listPriceRecordTypeId+'" AND Product_vod__c = "'+e+'" AND Account_Group_vod__c="" AND Account_vod__c="" AND Start_Date_vod__c <= "'+dateString+'" AND End_Date_vod__c >= "'+dateString+'"), com_veeva_clm_productDefaultPricingRules(result)',com.veeva.clm.testMode?com_veeva_clm_productDefaultPricingRules(com.veeva.clm.testResult.listPrices):com.veeva.clm.runAPIRequest(groupQuery)},window.com_veeva_clm_productAccountGroupPricingRules=function(e){(e=com.veeva.clm.formatResult(e)).success&&0==e.Pricing_Rule_vod__c.length?com_veeva_clm_get_productDefaultPricingRules():com.veeva.clm.wrapResult("getListPrice_Product_Account",c,e)},window.com_veeva_clm_accountGroup=function(t){(t=com.veeva.clm.formatResult(t)).success?(accountGroup=t.Account.Account_Group_vod__c,void 0!=accountGroup&&""!=accountGroup?(dateString=com.veeva.clm.getCurrentDate(),groupQuery='veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId="'+listPriceRecordTypeId+'" AND Product_vod__c = "'+e+'" AND Account_Group_vod__c="'+accountGroup+'" AND Start_Date_vod__c <= "'+dateString+'" AND End_Date_vod__c >= "'+dateString+'"), com_veeva_clm_productAccountGroupPricingRules(result)',com.veeva.clm.testMode?com_veeva_clm_productAccountGroupPricingRules(com.veeva.clm.testResult.listPrices):com.veeva.clm.runAPIRequest(groupQuery)):com_veeva_clm_get_productDefaultPricingRules()):com.veeva.clm.wrapResult("getListPrice_Product_Account",c,t)},window.com_veeva_clm_productAccountPricingRules=function(e){(e=com.veeva.clm.formatResult(e)).success&&0==e.Pricing_Rule_vod__c.length?com.veeva.clm.getDataForObject("Account",t,"Account_Group_vod__c",com_veeva_clm_accountGroup):com.veeva.clm.wrapResult("getListPrice_Product_Account",c,e)},window.com_veeva_clm_listPriceTypeId_getListPrice_Product_Account=function(r){(r=com.veeva.clm.formatResult(r)).success&&r.RecordType&&r.RecordType.length>0?(listPriceRecordTypeId=r.RecordType[0].ID,dateString=com.veeva.clm.getCurrentDate(),query='veeva:queryObject(Pricing_Rule_vod__c),fields(ID),where(WHERE RecordTypeId="'+listPriceRecordTypeId+'" AND Product_vod__c = "'+e+'" AND Account_vod__c="'+t+'" AND Start_Date_vod__c <= "'+dateString+'" AND End_Date_vod__c >= "'+dateString+'"), com_veeva_clm_productAccountPricingRules(result)',com.veeva.clm.testMode?com_veeva_clm_productAccountPricingRules(com.veeva.clm.testResult.listPrices):com.veeva.clm.runAPIRequest(query)):com.veeva.clm.wrapResult("getListPrice_Product_Account",c,r)},recordTypeQuery='veeva:queryObject(RecordType),fields(ID),where(WHERE SobjectType="Pricing_Rule_vod__c" AND Name_vod__c="List_Price_Rule_vod"),com_veeva_clm_listPriceTypeId_getListPrice_Product_Account(result)',com.veeva.clm.testMode?com_veeva_clm_listPriceTypeId_getListPrice_Product_Account(testResult.listPriceRecordType):com.veeva.clm.runAPIRequest(recordTypeQuery)):com.veeva.clm.wrapResult("getListPrice_Product_Account",c,ret)):com.veeva.clm.wrapResult("getListPrice_Product_Account",c,ret)},getApprovedDocument:function(e,t,c){var r,o,u,s;if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("vault_id",e),0!=ret.success?(ret=this.checkArgument("document_num",t),0!=ret.success?(window.com_veeva_clm_DocumentTypeId_getDocument=function(v){if((v=com.veeva.clm.formatResult(v)).success&&v.Approved_Document_vod__c&&1==v.Approved_Document_vod__c.length){var n;if(void 0!=u&&void 0!=s&&s.length>0){n=[];for(var a=0,l=0;l<u.length;l++)for(var m=0;m<s.length;m++)if(void 0!=u[l].ID&&void 0!=s[m].Product_Catalog_vod__c&&void 0!=s[m].Product_vod__c&&u[l].ID==s[m].Product_Catalog_vod__c&&v.Approved_Document_vod__c[0].Product_vod__c==s[m].Product_vod__c){n[a]={},n[a].ID={},n[a].Detail_Group_vod__c={},n[a].ID=s[m].Product_vod__c,n[a].Detail_Group_vod__c=u[l].ID,a++;break}}if(r&&r.length>0)for(m=0;m<r.length;m++)if(v.Approved_Document_vod__c[0].Product_vod__c===r[m].ID){if(!(void 0!=n&&n.length>0))return(i={Approved_Document_vod__c:{}}).Approved_Document_vod__c.ID=v.Approved_Document_vod__c[0].ID,i.success=!0,void com.veeva.clm.wrapResult("getApprovedDocument",c,i);for(l=0;l<n.length;l++){if(void 0!=v.Approved_Document_vod__c[0].Detail_Group_vod__c&&v.Approved_Document_vod__c[0].Product_vod__c==n[l].ID&&v.Approved_Document_vod__c[0].Detail_Group_vod__c==n[l].Detail_Group_vod__c)return(i={Approved_Document_vod__c:{}}).Approved_Document_vod__c.ID=v.Approved_Document_vod__c[0].ID,i.success=!0,void com.veeva.clm.wrapResult("getApprovedDocument",c,i)}}if(o&&o.length>0)for(var _=0;_<o.length;_++)if(v.Approved_Document_vod__c[0].Product_vod__c===o[_].ID){if(!(void 0!=n&&n.length>0))return(i={Approved_Document_vod__c:{}}).Approved_Document_vod__c.ID=v.Approved_Document_vod__c[0].ID,i.success=!0,void com.veeva.clm.wrapResult("getApprovedDocument",c,i);for(l=0;l<n.length;l++){if(void 0!=v.Approved_Document_vod__c[0].Detail_Group_vod__c&&v.Approved_Document_vod__c[0].Product_vod__c==n[l].ID&&v.Approved_Document_vod__c[0].Detail_Group_vod__c==n[l].Detail_Group_vod__c)return(i={Approved_Document_vod__c:{}}).Approved_Document_vod__c.ID=v.Approved_Document_vod__c[0].ID,i.success=!0,void com.veeva.clm.wrapResult("getApprovedDocument",c,i)}}var i={success:!0};com.veeva.clm.wrapResult("getApprovedDocument",c,i)}else if(v.success&&v.Approved_Document_vod__c&&v.Approved_Document_vod__c.length>1){i={success:!0};com.veeva.clm.wrapResult("getApprovedDocument",c,i)}else{if(1021==v.code)return void(v.message.indexOf("Detail_Group_vod__c")>=0&&(approvedDocumentQuery='veeva:queryObject(Approved_Document_vod__c),fields(ID,Product_vod__c),where(WHERE Vault_Instance_ID_vod__c="'+e+'" AND Vault_Document_ID_vod__c="'+t+'" AND Status_vod__c="Approved_vod"),com_veeva_clm_DocumentTypeId_getDocument(result)',com.veeva.clm.testMode?com_veeva_clm_DocumentTypeId_getDocument(testResult.approvedDocumentWithId2):com.veeva.clm.runAPIRequest(approvedDocumentQuery)));i={success:!0};com.veeva.clm.wrapResult("getApprovedDocument",c,i)}},window.com_veeva_clm_getProductGroups=function(r){if((r=com.veeva.clm.formatResult(r)).success)s=r.Product_Group_vod__c,approvedDocumentQuery='veeva:queryObject(Approved_Document_vod__c),fields(ID,Product_vod__c,Detail_Group_vod__c),where(WHERE Vault_Instance_ID_vod__c="'+e+'" AND Vault_Document_ID_vod__c="'+t+'" AND Status_vod__c="Approved_vod"),com_veeva_clm_DocumentTypeId_getDocument(result)',com.veeva.clm.testMode?com_veeva_clm_DocumentTypeId_getDocument(testResult.approvedDocumentWithId):com.veeva.clm.runAPIRequest(approvedDocumentQuery);else{if(1011==r.code)return void(r.message.indexOf("Product_Group_vod__c")>=0&&(approvedDocumentQuery='veeva:queryObject(Approved_Document_vod__c),fields(ID,Product_vod__c),where(WHERE Vault_Instance_ID_vod__c="'+e+'" AND Vault_Document_ID_vod__c="'+t+'" AND Status_vod__c="Approved_vod"),com_veeva_clm_DocumentTypeId_getDocument(result)',com.veeva.clm.testMode?com_veeva_clm_DocumentTypeId_getDocument(testResult.approvedDocumentWithId2):com.veeva.clm.runAPIRequest(approvedDocumentQuery)));com.veeva.clm.wrapResult("getApprovedDocument",c,r)}},com.veeva.clm.getProduct_MySetup("Detail Topic",function(e){(e=com.veeva.clm.formatResult(e)).success?(r=e.Product_vod__c,com.veeva.clm.getProduct_MySetup("Detail",function(e){e.success?(o=e.Product_vod__c,com.veeva.clm.getProduct_MySetup("Detail Group",function(e){if(e.success){u=e.Product_vod__c;for(var t=[],r=0;r<u.length;r++)t[r]=u[r].ID;var o=com.veeva.clm.joinStringArrayForIn(t);""==o&&(o="{}"),query="veeva:queryObject(Product_Group_vod__c),fields(ID,Product_vod__c,Product_Catalog_vod__c),where(WHERE Product_Catalog_vod__c IN "+o+"),com_veeva_clm_getProductGroups(result)",com.veeva.clm.testMode?com_veeva_clm_getProductGroups(com.veeva.clm.testResult.productGroups):com.veeva.clm.runAPIRequest(query)}else com.veeva.clm.wrapResult("getApprovedDocument",c,e)})):com.veeva.clm.wrapResult("getApprovedDocument",c,e)})):com.veeva.clm.wrapResult("getApprovedDocument",c,e)})):com.veeva.clm.wrapResult("getApprovedDocument",c,ret)):com.veeva.clm.wrapResult("getApprovedDocument",c,ret)},launchApprovedEmail:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;void 0!=e&&null!=e||(e=""),void 0!=t&&null!=t||(t=""),request=null,window.com_veeva_clm_launchApprovedEmail=function(e){(e=com.veeva.clm.formatResult(e)).success?(ret={},ret.success=!0,void 0!=e.code&&(ret.code=e.code,ret.message=e.message),com.veeva.clm.wrapResult("launchApprovedEmail",c,ret)):(ret={},ret.success=!1,ret.code=e.code,ret.message="Request: "+request+" failed: "+e.message,com.veeva.clm.wrapResult("launchApprovedEmail",c,ret))},request="veeva:launchApprovedEmail("+e+","+t+"),callback(com_veeva_clm_launchApprovedEmail)",com.veeva.clm.testMode?com_veeva_clm_launchApprovedEmail(com.veeva.clm.testResult.approvedEmailId):com.veeva.clm.runAPIRequest(request)},getDataForCurrentObject:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("field",t),0!=ret.success?(window.com_veeva_clm_getCurrentObjectField=function(e){com.veeva.clm.wrapResult("getDataForCurrentObject",c,e)},lowerName=e.toLowerCase(),request="veeva:getDataForObjectV2("+e+"),fieldName("+t+"),com_veeva_clm_getCurrentObjectField(result)",com.veeva.clm.testMode?com_veeva_clm_getCurrentObjectField(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(request,c)):com.veeva.clm.wrapResult("getDataForCurrentObject",c,ret)):com.veeva.clm.wrapResult("getDataForCurrentObject",c,ret)},getDataForObject:function(e,t,c,r){if(ret=this.checkCallbackFunction(r),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("record",t),0!=ret.success?(ret=this.checkArgument("field",c),0!=ret.success?(window.com_veeva_clm_getObjectField=function(e){com.veeva.clm.wrapResult("getDataForObject",r,e)},request="veeva:getDataForObjectV2("+e+"),objId("+t+"),fieldName("+c+"),com_veeva_clm_getObjectField(result)",com.veeva.clm.testMode?com_veeva_clm_getObjectField(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(request,r)):com.veeva.clm.wrapResult("getDataForObject",r,ret)):com.veeva.clm.wrapResult("getDataForObject",r,ret)):com.veeva.clm.wrapResult("getDataForObject",r,ret)},createRecord:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("values",t),0!=ret.success?(request=com.veeva.clm.generateSaveRecordRequest(e,t,"com_veeva_clm_createRecord"),window.com_veeva_clm_createRecord=function(t){(t=com.veeva.clm.formatResult(t)).success?(ret={},ret.success=!0,ret.operation=t.operation,ret[e]={},ret[e].ID=t.objectId,void 0!=t.code&&(ret.code=t.code,ret.message=t.message),com.veeva.clm.wrapResult("createRecord",c,ret)):(ret={},ret.success=!1,ret.code=2100,ret.message="Request: "+request+" failed: "+t.message,com.veeva.clm.wrapResult("createRecord",c,ret))},com.veeva.clm.testMode?com_veeva_clm_createRecord(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(request)):com.veeva.clm.wrapResult("createRecord",c,ret)):com.veeva.clm.wrapResult("createRecord",c,ret)},updateRecord:function(e,t,c,r){if(ret=this.checkCallbackFunction(r),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("record",t),0!=ret.success?(ret=this.checkArgument("values",c),0!=ret.success?(c.IdNumber=t,request=com.veeva.clm.generateSaveRecordRequest(e,c,"com_veeva_clm_updateRecord"),window.com_veeva_clm_updateRecord=function(t){(t=com.veeva.clm.formatResult(t)).success?(ret={},ret.success=!0,ret.operation=t.operation,ret[e]={},ret[e].ID=t.objectId,void 0!=t.code&&(ret.code=t.code,ret.message=t.message),com.veeva.clm.wrapResult("updateRecord",r,ret)):(ret={},ret.success=!1,ret.code=2100,ret.message="Request: "+request+" failed: "+t.message,com.veeva.clm.wrapResult("updateRecord",r,ret))},com.veeva.clm.testMode?com_veeva_clm_updateRecord(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(request)):com.veeva.clm.wrapResult("updateRecord",r,ret)):com.veeva.clm.wrapResult("updateRecord",r,ret)):com.veeva.clm.wrapResult("updateRecord",r,ret)},gotoSlide:function(e,t){if(ret=this.checkArgument("keyMessage",e),0==ret.success)return ret;request=null,request=void 0==t||null==t||""==t?"veeva:gotoSlide("+e+")":"veeva:gotoSlide("+e+","+t+")",com.veeva.clm.testMode||com.veeva.clm.runAPIRequest(request)},gotoSlideV2:function(e,t){if(ret=this.checkArgument("keyMessage",e),0==ret.success)return ret;request=null,request=void 0==t||null==t||""==t?"veeva:gotoSlideV2("+e+")":"veeva:gotoSlideV2("+e+","+t+")",com.veeva.clm.testMode||com.veeva.clm.runAPIRequest(request)},nextSlide:function(){request="veeva:nextSlide()",com.veeva.clm.runAPIRequest(request)},prevSlide:function(){request="veeva:prevSlide()",com.veeva.clm.runAPIRequest(request)},getUTCdatetime:function(e,t,c,r){if(ret=this.checkCallbackFunction(r),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("record",t),0!=ret.success?(ret=this.checkArgument("field",c),0!=ret.success?(window.com_veeva_clm_getUTCdatetime=function(e){com.veeva.clm.wrapResult("getUTCdatetime",r,e)},request="veeva:getDataForObjectV3("+e+"),objId("+t+"),fieldName("+c+"),getUTCdatetime(true),callback(com_veeva_clm_getUTCdatetime)",com.veeva.clm.testMode?com_veeva_clm_getUTCdatetime(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(request,r)):com.veeva.clm.wrapResult("getUTCdatetime",r,ret)):com.veeva.clm.wrapResult("getUTCdatetime",r,ret)):com.veeva.clm.wrapResult("getUTCdatetime",r,ret)},updateCurrentRecord:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("values",t),0!=ret.success?(request="veeva:saveObjectV2("+e+"),updateCurrentRecord(),value("+JSON.stringify(t)+"),callback(com_veeva_clm_updateCurrentRecord)",window.com_veeva_clm_updateCurrentRecord=function(t){(t=com.veeva.clm.formatResult(t)).success?(ret={},ret.success=!0,ret[e]={},ret[e].ID=t.objectId,void 0!=t.code&&(ret.code=t.code,ret.message=t.message),com.veeva.clm.wrapResult("updateCurrentRecord",c,ret)):(ret={},ret.success=!1,ret.code=2100,ret.message="Request: "+request+" failed: "+t.message,com.veeva.clm.wrapResult("updateCurrentRecord",c,ret))},com.veeva.clm.testMode?com_veeva_clm_updateCurrentRecord(com.veeva.clm.testResult.common):com.veeva.clm.runAPIRequest(request)):com.veeva.clm.wrapResult("updateCurrentRecord",c,ret)):com.veeva.clm.wrapResult("updateCurrentRecord",c,ret)},formatCreateRecords:function(e,t){if(ret=this.checkArgument("objectArray",e),0==ret.success)return ret;if(ret=this.checkArgument("valueArray",t),0==ret.success)return ret;if(e instanceof Array||(e=[e]),t instanceof Array||(t=[t]),ret={},e.length!=t.length)return ret.success=!1,ret.code=2003,ret.message="Parameter arrays must be of equal length",ret;for(var c="",r=0;r<e.length;r++)c=c.concat(com.veeva.clm.generateSaveRecordRequest(e[r],t[r],"")+";");return c},formatUpdateRecords:function(e,t,c){if(ret=this.checkArgument("objectNameArray",e),0==ret.success)return ret;if(ret=this.checkArgument("objectIdArray",t),0==ret.success)return ret;if(ret=this.checkArgument("valueArray",c),0==ret.success)return ret;if(e instanceof Array||(e=[e]),t instanceof Array||(t=[t]),c instanceof Array||(c=[c]),ret={},e.length!=c.length||e.length!=t.length)return ret.success=!1,ret.code=2003,ret.message="Parameter arrays must be of equal length",ret;for(var r="",o=0;o<e.length;o++)c[o].IdNumber=t[o],r=r.concat(com.veeva.clm.generateSaveRecordRequest(e[o],c[o],"")+";");return r},formatUpdateCurrentRecords:function(e,t){if(ret=this.checkArgument("objectArray",e),0==ret.success)return com.veeva.clm.wrapResult("formatUpdateCurrentRecord",callback,ret),ret;if(ret=this.checkArgument("valueArray",t),0==ret.success)return com.veeva.clm.wrapResult("formatUpdateCurrentRecord",callback,ret),ret;if(e instanceof Array||(e=[e]),t instanceof Array||(t=[t]),ret={},e.length!=t.length)return ret.success=!1,ret.code=2003,ret.message="Parameter arrays must be of equal length",ret;for(var c="",r=0;r<e.length;r++)c=c.concat("veeva:saveObjectV2("+e[r]+"),updateCurrentRecord(),value("+JSON.stringify(t[r])+"),callback();");return c},generateSaveRecordRequest:function(e,t,c){return"veeva:saveObjectV2("+e+"),value("+JSON.stringify(t)+"),callback("+c+")"},queryRecord:function(e,t,c,r,o,u){if(ret=this.checkCallbackFunction(u),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("fields",t),0!=ret.success?(window.com_veeva_clm_queryRecordReturn=function(e){e=com.veeva.clm.formatResult(e),com.veeva.clm.wrapResult("queryRecord",u,e)},request="veeva:queryObject("+e+"),fields("+t+"),",null!=c&&void 0!=c&&(request=request+"where("+c+"),"),null!=r&&void 0!=r&&(request=request+"sort("+JSON.stringify(r)+"),"),null!=o&&void 0!=o&&(request=request+"limit("+o+"),"),request+="com_veeva_clm_queryRecordReturn(result)",com.veeva.clm.runAPIRequest(request,u)):com.veeva.clm.wrapResult("queryRecord",u,ret)):com.veeva.clm.wrapResult("queryRecord",u,ret)},getFieldLabel:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("fields",t),0!=ret.success?(window.com_veeva_clm_getFieldLabelReturn=function(e){e=com.veeva.clm.formatResult(e),com.veeva.clm.wrapResult("getFieldLabel",c,e)},request="veeva:getFieldLabel("+e+"),fields("+JSON.stringify(t)+"), com_veeva_clm_getFieldLabelReturn(result)",com.veeva.clm.runAPIRequest(request,c)):com.veeva.clm.wrapResult("getFieldLabel",c,ret)):com.veeva.clm.wrapResult("getFieldLabel",c,ret)},getRecordTypeLabels:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(window.com_veeva_clm_getRecordTypeLabelsReturn=function(e){e=com.veeva.clm.formatResult(e),com.veeva.clm.wrapResult("getRecordTypeLabels",t,e)},request="veeva:getRecordTypeLabels("+e+"),com_veeva_clm_getRecordTypeLabelsReturn(result)",com.veeva.clm.runAPIRequest(request,t)):com.veeva.clm.wrapResult("getRecordTypeLabels",t,ret)},getPicklistValueLabels:function(e,t,c){if(ret=this.checkCallbackFunction(c),0==ret.success)return ret;ret=this.checkArgument("object",e),0!=ret.success?(ret=this.checkArgument("field",t),0!=ret.success?(window.com_veeva_clm_getPicklistValueLabelsReturn=function(e){e=com.veeva.clm.formatResult(e),com.veeva.clm.wrapResult("getPicklistValueLabels",c,e)},request="veeva:getPicklistValueLabels("+e+"),field("+t+"), com_veeva_clm_getPicklistValueLabelsReturn(result)",com.veeva.clm.runAPIRequest(request,c)):com.veeva.clm.wrapResult("getPicklistValueLabels",c,ret)):com.veeva.clm.wrapResult("getPicklistValueLabels",c,ret)},getObjectLabels:function(e,t){var c=this.checkCallbackFunction(t);if(0==c.success)return c;0!=(c=this.checkArgument("objects",e)).success?(window.com_veeva_clm_getObjectLabelsReturn=function(e){e=com.veeva.clm.formatResult(e),com.veeva.clm.wrapResult("getObjectLabels",t,e)},request="veeva:getObjectLabels("+JSON.stringify(e)+"),com_veeva_clm_getObjectLabelsReturn(result)",com.veeva.clm.runAPIRequest(request,t)):com.veeva.clm.wrapResult("getObjectLabels",t,c)},launchSelector:function(e,t){var c=this.checkCallbackFunction(t);if(0==c.success)return c;if(0!=(c=this.checkArgument("presentationSlides",e)).success){if(e.constructor===Array)for(var r=0;r<e.length;r++){var o=e[r];if(null!=o&&"object"==typeof o)for(var u in o)if(o.hasOwnProperty(u)&&""==u)return(c={}).success=!1,c.code=2002,c.message="presentation id is empty",void com.veeva.clm.wrapResult("presentationSlides",t,c)}var s=null;window.com_veeva_clm_launchApprovedEmail=function(e){var c={};(e=com.veeva.clm.formatResult(e)).success?(c.success=!0,void 0!=e.code&&(c.code=e.code,c.message=e.message),com.veeva.clm.wrapResult("launchSelector",t,c)):(c.success=!1,c.code=e.code,c.message="Request: "+s+" failed: "+e.message,com.veeva.clm.wrapResult("launchSelector",t,c))},s="veeva:launchSelector("+JSON.stringify(e)+"),callback(com_veeva_clm_launchSelector)",com.veeva.clm.testMode?com_veeva_clm_launchSelector(com.veeva.clm.testResult.launchSelectorResult):com.veeva.clm.runAPIRequest(s)}else com.veeva.clm.wrapResult("presentationSlides",t,c)},createMultichannelActivityLine:function(e,t){if(ret=this.checkCallbackFunction(t),0==ret.success)return ret;ret=this.checkArgument("values",e),0!=ret.success?(window.com_veeva_clm_createActivityLine=function(e){com.veeva.clm.wrapResult("createMultichannelActivityLine",t,e)},request="veeva:createActivityLine(),value("+JSON.stringify(e)+"),com_veeva_clm_createActivityLine(result)",com.veeva.clm.runAPIRequest(request,t)):com.veeva.clm.wrapResult("createMultichannelActivityLine",t,ret)},joinStringArrayForIn:function(e){var t="";if(e.length>0){for(i=0;i<e.length;i++)0==i?t+='{"'+e[i]+'"':t+=',"'+e[i]+'"';t+="}"}return t},joinFieldArray:function(e){var t="";if(e.length>0)for(i=0;i<e.length;i++)0==i?t+=e[i]:t+=","+e[i];return t},isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},checkCallbackFunction:function(e){return ret={},void 0==e?(ret.success=!1,ret.code=2e3,ret.message="callback is missing",ret):(0==this.isFunction(e)?(ret.success=!1,ret.code=2001,ret.message="callback is not a JavaScript function"):ret.success=!0,ret)},checkArgument:function(e,t){return ret={},ret.success=!0,void 0!=t&&null!=t&&""!=t||(ret.success=!1,ret.code=2002,ret.message=e+" is empty"),ret},getCurrentDate:function(){var e=new Date;return dateString=e.getFullYear().toString(),month=e.getMonth()+1,month<10?dateString+="-0"+month:dateString+="-"+month,date=e.getDate(),date<10?dateString+="-0"+date:dateString+="-"+date,dateString},formatResult:function(result){return com.veeva.clm.isWin8()&&"string"==typeof result&&(result=eval("("+result+")")),result},wrapResult:function(e,t,c){(c=com.veeva.clm.formatResult(c)).success?t(c):(c.message=e+": "+c.message,t(c))},runAPIRequest:function(e,t){com.veeva.clm.isEngage()?com.veeva.clm.engageAPIRequest(e,t):com.veeva.clm.isWin8()?window.external.notify(e):(e=e.replace(/^veeva:/,""),e="veeva:"+(e=encodeURIComponent(e)),document.location=e)},isWin8:function(){return navigator.platform.toLowerCase().indexOf("win")>=0},isEngage:function(){return window.self!==window.top},engageAPIRequest:function(e,t){if(!1===com.veeva.clm.engageHasListener){function c(e){var t=JSON.parse(e.data),c=t.callback;if(void 0!==c&&null!==c){var r=com.veeva.clm.engageCallbackList[c];void 0!==r&&null!==r&&(r.call(null,t),delete com.veeva.clm.engageCallbackList[c])}}com.veeva.clm.engageHasListener=!0,com.veeva.clm.engageCallbackId=0,window.addEventListener?window.addEventListener("message",c,!1):window.attachEvent("onmessage",c)}setTimeout(function(){com.veeva.clm.engageCallbackId+=1;var c=com.veeva.clm.engageCallbackId;com.veeva.clm.engageCallbackList[c]=t;var r=e.split("),");r.length>1&&(r[r.length-1]=c,e=r.join("),")),window.parent.postMessage(e,"*")},1)},listPriceRecordTypeId:null,accountId:null,addressId:null,callId:null,tsfId:null,userId:null,presentationId:null,keyMessageId:null,engageHasListener:!1,engageCallbackId:null,engageCallbackList:[],testMode:!1,testResult:null},com.veeva.clm.initialize=function(){var e=!1,t=1;function c(e){if(e.offsetParent){var t=c(e.offsetParent);return{left:t.left+e.offsetLeft,top:t.top+e.offsetTop}}return{left:e.offsetLeft,top:e.offsetTop}}function r(e,t){var c={type:"iframe",event:{}};c.event.type=t,c.event.clientX=e.clientX,c.event.clientY=e.clientY,window.parent.postMessage(JSON.stringify(c),"*")}function o(c){var r=JSON.parse(c.data);if(r.type&&"events"===r.type){e=!0;var o=0,v=0;if(document.scrollingElement?(o=document.scrollingElement.scrollLeft,v=document.scrollingElement.scrollTop):document.documentElement&&(o=document.documentElement.scrollLeft,v=document.documentElement.scrollTop),"change"===r.event.type)r.event.location.x-=o,r.event.location.y-=v,t&&(r.event.location.x*=t,r.event.location.y*=t),(n=document.elementFromPoint(r.event.location.x,r.event.location.y))&&function(e,t){e.value=t.event.value;var c=function(e){var t,c={bubbles:!0,cancelable:!0};if("function"==typeof document.createEvent)(t=document.createEvent("HTMLEvents")).initEvent(e,c.bubbles,c.cancelable);else if(document.createEventObject)for(prop in(t=document.createEventObject()).eventType=e,c)t[prop]=c[prop];return t}(t.event.type);s(e,c,t.event.type)}(n,r);else if("keypress"===r.event.type){r.event.location.x-=o,r.event.location.y-=v,t&&(r.event.location.x*=t,r.event.location.y*=t),(n=document.elementFromPoint(r.event.location.x,r.event.location.y))&&function(e,t){var c=u("click",0,0,t.event.location.x,t.event.location.y);s(e,c,"click")}(n,r)}else if("scroll"===r.event.type)!function(e){var t=e.event.scrollPosition;document.scrollingElement?(document.scrollingElement.scrollLeft=t.left,document.scrollingElement.scrollTop=t.top):document.documentElement&&(document.documentElement.scrollLeft=t.left,document.documentElement.scrollTop=t.top)}(r);else{var n;(n=document.elementFromPoint(r.event.clientX,r.event.clientY))&&function(e,t){var c=u(t.event.type,0,0,t.event.clientX,t.event.clientY);s(e,c,t.event.type)}(n,r)}}else r.type&&"scale"===r.type&&"number"==typeof r.value&&r.value>0&&(t=r.value)}function u(e,t,c,r,o){var u,s={bubbles:!0,cancelable:"mousemove"!=e,view:window,detail:0,screenX:t,screenY:c,clientX:r,clientY:o,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};if("function"==typeof document.createEvent)(u=document.createEvent("MouseEvents")).initMouseEvent(e,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,document.body.parentNode);else if(document.createEventObject){for(prop in u=document.createEventObject(),s)u[prop]=s[prop];u.button={0:1,1:4,2:2}[u.button]||u.button}return u}function s(e,t,c){return e.dispatchEvent?e.dispatchEvent(t):e.fireEvent&&e.fireEvent("on"+c,t),t}window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent("onmessage",o),document.onmousemove=function(t){!0!==e&&r(t||window.event,"mousemove")},document.onclick=function(t){!0!==e&&r(t||window.event,"click")},document.onchange=function(t){if(!0!==e){var r=t||window.event,o=r.target||r.srcElement;if(o){var u={},s=c(o);u.x=s.left+o.offsetWidth/2,u.y=s.top+o.offsetHeight/2,function(e,t,c){var r={type:"iframe",event:{}};r.event.type=e,r.event.value=t.value,r.event.location=c,window.parent.postMessage(JSON.stringify(r),"*")}("change",o,u)}}},document.onkeypress=function(t){if(!0!==e){var r=t||window.event,o=r.target||r.srcElement;if(o){var u="number"==typeof r.which?r.which:r.keyCode;if(13===u){var s={},v=c(o);s.x=v.left+o.offsetWidth/2,s.y=v.top+o.offsetHeight/2,function(e,t,c){var r={type:"iframe",event:{}};r.event.type=e,r.event.keyCode=t,r.event.location=c,window.parent.postMessage(JSON.stringify(r),"*")}("keypress",u,s)}}}},document.onscroll=function(t){if(!0!==e){var c=t||window.event,r=c.target||c.srcElement;if(r){var o={};r.scrollingElement?(o.left=r.scrollingElement.scrollLeft,o.top=r.scrollingElement.scrollTop):r.documentElement&&(o.left=r.documentElement.scrollLeft,o.top=r.documentElement.scrollTop),function(e,t){var c={type:"iframe",event:{}};c.event.type=e,c.event.scrollPosition=t,window.parent.postMessage(JSON.stringify(c),"*")}("scroll",o)}}}},com_veeva_clm_createRecordsOnExit=function(){return com.veeva.clm.createRecordsOnExit()},com_veeva_clm_updateRecordsOnExit=function(){return com.veeva.clm.updateRecordsOnExit()},com_veeva_clm_updateCurrentRecordsOnExit=function(){return com.veeva.clm.updateCurrentRecordsOnExit()},com.veeva.clm.initialize();var DS,DS_OBJ,DS_TEST,DS_TOKEN;{let e;try{if(e=JSON.parse(sessionStorage.saved),"object"!=typeof(e=platformStorage.session.presentation.data)||"Object"!=e.constructor.name)throw new Error("")}catch(t){e={}}DS=new Proxy({},{get:function(e,t){return"object"!=typeof e[t]&&(e[t]=new Proxy({},{get:function(e,r){return function(e,n,o){return new Promise(function(s,i){DS_OBJ[t](r,e,n,o).then(function(n){if(!n.success)return s(e?[]:void 0);if("Array"==n[t].constructor.name){for(let e=0;e<n[t].length;e++)n[t][e]=n[t][e][r];s(n[t])}else"object"!=typeof n[t]&&(n[t]={}),s(n[t][r])})})}}})),e[t]}});let t=function(e,t){return{msg:`${t?"Field or object":"Object"} not accesible: ´${e}´${t?`.´${t}´`:""}`,error:!0,success:!1}};DS_OBJ=new Proxy({},{get:function(r,n){return function(r,o,s,l){let c,a=[];if(o)try{c=o.parse()}catch(e){return new Promise(e=>{e({})})}let f=[],u="string"==typeof r?r.split(","):[];for(i=0;i<u.length;i++)u[i]=u[i].trim();if("string"==typeof s){let e=[];s=s.split(",");for(let t=0;t<s.length;t++)s[t]=s[t].trim().split(/\s+/),2==s[t].length&&(f.push(s[t]),u.indexOf(s[t][0])<0&&(a.push(s[t][0]),u.push(s[t][0])),e.push(s[t].join(", ")));s=e}else s=[];return"number"!=typeof l&&(l=null),new Promise(function(o,i){new Promise(function(o,i){let h={},_={};if("object"==typeof DS_TEST){let r,i=r=>{if(c)if("object"!=typeof r)h=t(n);else{let e={};h[n]=[],_[n]=[];let t=!1;for(let o=0;o<r.length;o++){let i=!0,l={};forEach(c,(n,c)=>{if(void 0===r[o][n])return i=!1,void(t=!0);if(r[o][n]!=c)return i=!1,!1;for(1==u.length&&"*"==u[0]&&(u=[],forEach(r[o],(e,t)=>{u.push(e)})),j=0;j<u.length;j++){let t=u[j],n=r[o][t];void 0!==n&&(l[t]=n,s.length&&(e[t]||(e[t]=new Map),e[t].set(l[t],r[o])))}}),i&&(h.success=!0,_[n].push(l))}if(s.length||(h[n]=_[n]),s.length){let t=0,r=(r=>{let n=f[t];if(!n)return!1;let o=e[n[0]];if(!o)return!1;let s=[];for(k of o)s.push(k);return s.sortList1(),"DESC"==n&&s.reverse(),s})(f[t]);if(r)for(let e=0;e<r.length;e++){for(let t=0;t<a.length;t++)delete r[e][1][a[t]];h[n].push(r[e][1])}else h[n]=_[n]}}else{let o=0,s=0;for(s=0;s<u.length;s++){let i=u[s],l=`${n}.${i}`;if(e[l])h[n]=e[l];else{if(h[n]={},"object"!=typeof r||void 0===r[i]){h=t(n,i);break}e[l]=r,h[n][i]=e[l][i]}o++}ALLOW.storage&&(platformStorage.session.presentation.data=e),h.error||(h.success=!0)}o(h)};if("function"==typeof DS_TEST[n]){let e=r=DS_TEST[n]();"Promise"==e.constructor.name?e.then(i):i(e)}else i(DS_TEST[n])}else{let t=new RequestPromise;if(c){let e="";Object.keys(c).forEach((r,n)=>{t.await(t=>{DS_TOKEN(c[r]).then(n=>{e+=` AND ${r}="${n}"`,t()})})}),t.await(t=>{e=e.slice(5),DSFn.query(n,r,e,s,l,o)})}else{let r=0;for(r=0;r<u.length;r++){let o=u[r],s=`${n}.${o}`;e[s]?h[n]=e[s]:(h[n]={},t.await(e=>{DSFn.data(n,o,e)}).then(t=>{if(!t.success)return h[n]=t,h.success=!1,void(h.error=!0);e[s]=t[n],h[n][o]=e[s][o]}))}ALLOW.storage&&(platformStorage.session.presentation.data=e),t.await(e=>{h.error||(h.success=!0),o(h)})}}}).then(function(e){o(e)})})}}});let r={accTitle:"Account.Salutation",accFname:"Account.FirstName",accLname:"Account.LastName",accCredentials:"Account.Credentials_vod__c",userName:"User.Name",userEmailAddress:"User.Email",userPhone:"User.Phone",userPhoto:"User_Detail_vod__c.Photo_vod__c?User_vod__c={{User.Id}}"},n={"User_Detail_vod__c.Photo_vod__c":e=>`<img src="data:image/png;base64,${e}" _width="160" _height="120" />`};DS_TOKEN=(e=>{let t=new RegExp("\\{\\{[\\w \\. \\_ - \\? \\=]*\\}\\}","g");return e=String(e),new Promise((o,s)=>{let i=e.match(t);if(!i||"Array"!=i.constructor.name)return o(e);let l=new RequestPromise;for(let t=0;t<i.length;t++){let o=i[t].substr(2,i[t].length-4),s=o.split("?");o=s[0],s=s[1];let c=o.split(".");if(1==c.length){if("string"!=typeof r[o]){console.warn(`token ${o} not found`),e=e.replace(i[t],"");continue}o=r[o],o=(s=o.split("?"))[0],s=s[1],c=o.split(".")}2==c.length&&l.await(r=>{DS[c[0]][c[1]](s).then(o=>{let s=n[`${c[0]}.${c[1]}`];"function"==typeof s&&(o=s(o)),e=e.replace(i[t],o),r()})})}l.await(r=>{(i=e.match(t))&&"Array"==i.constructor.name?DS_TOKEN(e).then(t=>{o(e=t)}):o(e)})})})}BIND.prototype.bind.set("[tk]",{bind:[e=>{BIND.prototype.bind.get("[tk]");e.eles.forEach(e=>{let t=e.attributes;for(let r=0;r<t.length;r++){let n=t[r];DS_TOKEN(n.value).then(t=>{"object"==typeof t&&(t=t?JSON.stringify(t):""),e.attr(n.name,t)})}DS_TOKEN(e.html()).then(t=>{"object"==typeof t&&(t=t?JSON.stringify(t):""),e.html(t)})})}]}),window.isready.then(()=>{"object"==typeof DS_TEST&&(DS_TEST.KeyMessage=(()=>new Promise((e,t)=>{DS_OBJ.Key_Message_vod__c("*",`Id=${PATH.slide}`,void 0,1).then(t=>{e(t.Key_Message_vod__c[0])})})))});var DSFn={query:(r,a,t,e,d,o)=>{platform.ds.queryRecord(r,a,t,e,d,o)},data:(r,a,t)=>{platform.ds.getDataForCurrentObject(r,a,t)}};platform.preview=!0,platform.ds=com.veeva.clm,platform.request=new RequestPromise,platform.isload=new Promise((e,o)=>{window.isload.then(function(){e()})});platform.isload.then(()=>{platform.request.await(t=>{if(platform.user=platformStorage.session.user.id,platform.user)return t();DS.User.Id().then(r=>{if("string"!=typeof r)return t();platform.user=r,platformStorage.session.user.id=r}).then(t)}),platform.request.await(t=>{if(platform.account=platformStorage.session.account.id,platform.account)return t();DS.Account.Id().then(r=>{if("string"!=typeof r)return t();platform.account=r,platformStorage.session.account.id=r,platform.preview=!1}).then(t)}),platform.request.await(t=>platform.preview?t():(platform.call=platformStorage.session.call.id,platform.call?t():void DS.Call.Mobile_ID_vod__c().then(r=>{if("string"!=typeof r)return t();platform.call=r,platformStorage.session.call.id=r}).then(t))),platform.request.await(t=>{if(platform.presentation=platformStorage.session.presentation.id,platform.presentation)return t();DS.Presentation.Id().then(r=>{if("string"!=typeof r)return t();platform.presentation=r,platformStorage.session.presentation.id=r}).then(t)})});platform.request.await(e=>{DS.KeyMessage.Disable_Actions_vod__c().then(t=>{if(!t)return e();if(t.split(";").indexOf("Swipe_vod")<0)return e();BIND.prototype.SWIPE(),e()})});e:{let e=BIND.prototype.bind.get("[go-to]");if("object"!=typeof e)break e;let t=function(e){"object"==typeof resolved&&(e=resolved);var o=e.to;o.slide?(o.slide+=".zip",PATH.setFlow(o.flow),platform.request.await(platform.ds,"gotoSlide",o.slide,o.presentation,platform.request.__resolve)):"function"==typeof e.go&&e.go(t)};e.event.click.push(function(e,o){"string"!=typeof o?t(o):[".prev",".next"].indexOf(o)>=0&&platform.request.await(platform.ds,".prev"==o?"prevSlide":"nextSlide",platform.request.__resolve)})}{let e=BIND.prototype.bind.get("[go-email]");"object"==typeof e&&e.event.click.push(function(e,t){console.debug("TEST:[go-email]",platform.name,t);var o=t.template,r=t.fragment;if(o){if(!platform.VaultURL||"string"!=typeof platform.VaultURL)return alert("platform.VaultURL is required");var a={template:void 0,fragment:[]};platform.request.await(platform.ds,"getApprovedDocument",platform.VaultURL,o,platform.request.__callback).then(e=>{if(!e.success||!e.Approved_Document_vod__c)return alert(`Cant´t get template (${o})`);a.template=e.Approved_Document_vod__c.ID}),platform.request.await(e=>{if(!a.template)return e(!1);let t={iterator:0,total:r.length};if(!r.length)return e();let o=new RequestPromise;forEach(r,function(r,l){o.await(platform.ds,"getApprovedDocument",platform.VaultURL,l,o.__callback).then(e=>{e.success&&e.Approved_Document_vod__c&&a.fragment.push(e.Approved_Document_vod__c.ID)}).then(function(){t.iterator++,t.iterator>=t.total&&e()})})}),platform.request.await(e=>{if(!a.template)return e(!1);a.fragment.length||(a.fragment=void 0),console.debug("[go-email]",platform.name,a),platform.ds.launchApprovedEmail(a.template,a.fragment,e)}).then(e=>{})}})}platform.isload.then(()=>{platform.request.await(t=>{let e=BIND.prototype.bind.get("[go-to]"),o=t=>{PATH.getFlow(),e.active(PATH),t()};if(PATH.presentation=platformStorage.session.presentation.ID,PATH.presentation)return o(t);DS.Presentation.Presentation_Id_vod__c().then(e=>{e&&(PATH.presentation=e,platformStorage.session.presentation.ID=e),o(t)})})});